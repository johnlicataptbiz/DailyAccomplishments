<!-- This file mirrors ../dashboard.html so hosts with pretty URLs serve /dashboard -->
<!-- Generated copy: keep in sync with ../dashboard.html -->
<!DOCTYPE html>
<!--#include virtual="../dashboard.html" -->
<script>
  // Redirect-based wrapper: attempt local ../dashboard.html, otherwise go straight to GitHub raw.
  const cacheBust = `?t=${Date.now()}`;
  const localPath = '../dashboard.html' + cacheBust;
  const raw = 'https://raw.githubusercontent.com/johnlicataptbiz/DailyAccomplishments/main/dashboard.html' + cacheBust;
  console.log('[build] f8b45640 dashboard wrapper redirect enabled');
  fetch(localPath, { cache: 'no-store' })
    .then(r => { if (!r.ok) throw new Error(r.status); return r.text(); })
    .then(() => { window.location.replace(localPath); })
    .catch(() => { window.location.replace(raw); });
</script>
<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>Daily Accomplishments</title>
    <style>
      html, body { height: 100%; margin: 0; background: #070A12; }
      iframe { width: 100%; height: 100%; border: 0; display: block; }
    </style>
  </head>
  <body>
    <script>
      const t = Date.now();
      const local = `/dashboard.html?t=${t}`; // try railway origin first
      const raw = `https://raw.githubusercontent.com/johnlicataptbiz/DailyAccomplishments/main/dashboard.html?t=${t}`;

      console.log('[build] embed wrapper enabled');

      function mount(src) {
        const iframe = document.createElement('iframe');
        iframe.src = src;
        document.body.appendChild(iframe);
      }

      fetch(local, { cache: 'no-store' })
        .then(r => { if (!r.ok) throw new Error(r.status); return r.text(); })
        .then(() => mount(local))
        .catch(() => mount(raw));
    </script>
  </body>
</html>
